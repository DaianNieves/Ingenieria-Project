{% extends 'layout.html' %}
{% block title %}Mis Citas{% endblock %}

{% block content %}
<style>
    .dashboard {
        padding: 2rem;
    }

    .dashboard h2 {
        font-size: 1.8rem;
        color: #1e3a8a;
        margin-bottom: 0.5rem;
    }

    .dashboard p {
        font-size: 1rem;
        color: #4b5563;
        margin-bottom: 1.5rem;
    }

    .styled-table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 1.5rem;
        font-size: 0.95rem;
        border: 1px solid #d1d5db;
        background-color: #ffffff;
    }

    .styled-table thead {
        background-color: #1d4ed8;
        color: white;
    }

    .styled-table th,
    .styled-table td {
        padding: 12px 15px;
        text-align: left;
        border-bottom: 1px solid #e5e7eb;
    }

    .styled-table tbody tr:hover {
        background-color: #f3f4f6;
    }

    .action-link {
        color: #2563eb;
        font-weight: 500;
        text-decoration: none;
    }

    .action-link:hover {
        text-decoration: underline;
    }

    .back-button {
        margin-top: 1.5rem;
    }

    .back-button a {
        color: #1f2937;
        text-decoration: none;
        font-weight: 500;
        padding: 8px 16px;
        background-color: #e5e7eb;
        border-radius: 6px;
        transition: background-color 0.3s;
    }

    .back-button a:hover {
        background-color: #d1d5db;
    }
</style>

<div class="dashboard">
    <h2>üóìÔ∏è Citas Registradas</h2>
    <p>Aqu√≠ puedes ver todas las citas que has agendado como doctor.</p>

    {% if citas %}
    <table class="styled-table">
        <thead>
            <tr>
                <th>Nombre del Paciente</th>
                <th>Tel√©fono</th>
                <th>Fecha de Nacimiento</th>
                <th>Fecha y Hora de la Cita</th>
                <th>Observaciones</th>
                <th>Acci√≥n</th>
            </tr>
        </thead>
        <tbody>
            {% for cita in citas %}
            <tr>
                <td>{{ cita.paciente }}</td>
                <td>{{ cita.telefono }}</td>
                <td>{{ cita.fecha_nacimiento }}</td>
                <td>{{ cita.fecha }}</td>
                <td>{{ cita.observaciones or '‚Äî' }}</td>
                <td>
                    <a class="action-link" href="{{ url_for('registrar_tratamiento', cita_id=cita.id) }}">üíä Registrar Tratamiento</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>No tienes citas registradas actualmente.</p>
    {% endif %}

    <div class="back-button">
        <a href="{{ url_for('panel_doctor') }}">‚Üê Volver al Panel</a>
    </div>
</div>
{% endblock %}
