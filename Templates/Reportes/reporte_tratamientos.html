{% extends 'layout.html' %}
{% block title %}Reporte de Tratamientos{% endblock %}

{% block content %}
<style>
    .report-container {
        padding: 2rem;
        background: #ffffff;
        border-radius: 1rem;
        box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        max-width: 95%;
        margin: auto;
    }

    .report-title {
        text-align: center;
        font-size: 2rem;
        color: #047857;
        margin-bottom: 1.5rem;
    }

    .styled-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.95rem;
        border-radius: 8px;
        overflow: hidden;
    }

    .styled-table thead {
        background-color: #047857;
        color: #fff;
    }

    .styled-table th,
    .styled-table td {
        padding: 0.8rem 1rem;
        text-align: left;
        border-bottom: 1px solid #e2e8f0;
    }

    .styled-table tbody tr:hover {
        background-color: #f0fdf4;
    }

    .back-button {
        display: inline-block;
        margin-top: 2rem;
        text-decoration: none;
        color: #047857;
        font-weight: bold;
    }

    .back-button:hover {
        text-decoration: underline;
    }
</style>

<div class="report-container">
    <h2 class="report-title">💊 Reporte de Tratamientos</h2>
    {% if tratamientos %}
    <table class="styled-table">
        <thead>
            <tr>
                <th>📅 Fecha</th>
                <th>👤 Paciente</th>
                <th>🧾 Diagnóstico</th>
                <th>💉 Tratamiento</th>
                <th>📝 Observaciones</th>
            </tr>
        </thead>
        <tbody>
            {% for t in tratamientos %}
            <tr>
                <td>{{ t.fecha_registro }}</td>
                <td>{{ t.paciente }}</td>
                <td>{{ t.diagnostico }}</td>
                <td>{{ t.tratamiento_aplicado }}</td>
                <td>{{ t.observaciones or '—' }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>No hay tratamientos registrados.</p>
    {% endif %}
    <a class="back-button" href="{{ url_for('panel_admin') if session['rol'] == 'administrador' else url_for('panel_doctor') }}">← Volver</a>
</div>
{% endblock %}
