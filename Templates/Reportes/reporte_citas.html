{% extends 'layout.html' %}
{% block title %}Reporte de Citas{% endblock %}

{% block content %}
<style>
    .report-container {
        padding: 2rem;
        background: #ffffff;
        border-radius: 1rem;
        box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        max-width: 95%;
        margin: auto;
    }

    .report-title {
        text-align: center;
        font-size: 2rem;
        color: #1e40af;
        margin-bottom: 1.5rem;
    }

    .styled-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.95rem;
        border-radius: 8px;
        overflow: hidden;
    }

    .styled-table thead {
        background-color: #2563eb;
        color: #fff;
    }

    .styled-table th,
    .styled-table td {
        padding: 0.8rem 1rem;
        text-align: left;
        border-bottom: 1px solid #e2e8f0;
    }

    .styled-table tbody tr:hover {
        background-color: #f1f5f9;
    }

    .back-button {
        display: inline-block;
        margin-top: 2rem;
        text-decoration: none;
        color: #2563eb;
        font-weight: bold;
    }

    .back-button:hover {
        text-decoration: underline;
    }
</style>

<div class="report-container">
    <h2 class="report-title">📅 Reporte de Citas</h2>
    {% if citas %}
    <table class="styled-table">
        <thead>
            <tr>
                <th>📆 Fecha</th>
                <th>👤 Paciente</th>
                <th>📞 Teléfono</th>
                <th>🎂 Fecha de Nacimiento</th>
                <th>📝 Observaciones</th>
            </tr>
        </thead>
        <tbody>
            {% for cita in citas %}
            <tr>
                <td>{{ cita.fecha }}</td>
                <td>{{ cita.paciente }}</td>
                <td>{{ cita.telefono }}</td>
                <td>{{ cita.fecha_nacimiento }}</td>
                <td>{{ cita.observaciones or '—' }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>No hay citas registradas.</p>
    {% endif %}
    <a class="back-button" href="{{ url_for('panel_admin') if session['rol'] == 'administrador' else url_for('panel_doctor') }}">← Volver</a>
</div>
{% endblock %}
